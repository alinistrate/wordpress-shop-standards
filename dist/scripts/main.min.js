!function(a){a("body").on("click","[data-url]",function(t){var e=a(t.target).data("url")||a(t.target).closest("[data-url]").data("url");e&&(document.location.href=e)});var t=a("#place_order").prop("value");a("#place_order").click(function(t){a(this).hasClass("disabled")?t.preventDefault():a("#place_order").prop("value","Ihre Bestellung wird jetzt verarbeitetâ€¦").addClass("disabled")}),a(document.body).on("checkout_error",function(){a("#place_order").prop("value",t).removeClass("disabled")});var e=a(".variations_form"),o=a(".variations_form .variations select"),n=!1;o.change(function(){n=a(this)}),a(".variations_form").on("woocommerce_variation_has_changed",function(){n&&""===n.val()?(n.val(""),n=!1):o.each(function(){var t=a(this);2===t.find("option").size()&&t.val(t.find("option").eq(1).val())}),setTimeout(function(){e.trigger("check_variations")},100)}),a(".single_variation_wrap").on("show_variation",function(t,e){a("[data-variations]").parent().hide(),a(a("[data-variations]")).each(function(){-1!==a(this).data("variations").indexOf(e.variation_id.toString())&&a(this).parent().show()})}).on("hide_variation",function(){a(a("[data-variations]")).each(function(){a(this).parent().hide()})}),a(document).ready(function(){"yes"===shop_standards_settings.emailConfirmationEmail&&(a("#billing_email, #billing_email_confirmation").on("cut copy paste",function(a){a.preventDefault()}),a("form.woocommerce-checkout").on("input validate change",function(){a("#billing_email").val()!==a("#billing_email_confirmation").val()&&a("#billing_email_confirmation_field").removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field")}))}),a(document).on("ready updated_cart_totals",function(){a('.woocommerce-error li[data-plus-product="invalid"]').length&&(a(".checkout-button").removeAttr("href").addClass("disabled"),a(".wcppec-checkout-buttons").hide())}),a(document).ready(function(){var t=a("#used-goods-consent"),e=a(".product-defects__checkbox-container");t.length&&a(document).on("show_variation",".single_variation_wrap",function(o,n){var i=n.used_goods_consent_attribute;a(".product-defects__attribute").text(i),i?(e.show(),t.prop("required","required")):(e.hide(),t.removeAttr("required"))})}),a(document).ready(function(){a("body.custom-ajax-cart-active .single_add_to_cart_button").click(function(t){if(t.preventDefault(),!a(t.target).hasClass("loading")){var e=a(t.target),o=e.closest("form.cart"),n=e.val(),i=o.find("input[name=quantity]").val()||1,r={action:"woocommerceAjaxAddToCart",product_id:o.find("input[name=product_id]").val()||n,product_sku:"",quantity:i,variation_id:o.find("input[name=variation_id]").val()||0,product_type:o.hasClass("variations_form")?"variable":"simple",nonce:shop_standards_settings.ajax_nonce};a.ajax({type:"post",url:shop_standards_settings.ajax_url,data:r,beforeSend:function(){e.addClass("loading")},complete:function(){e.removeClass("loading"),a("html, body").animate({scrollTop:0},500)},success:function(t){t.error&&t.product_url?window.location=t.product_url:(a(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e]),a(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),o.closest(".product").before(t.fragments.notices_html),a("span.header-item--cart__amount").length?a("span.header-item--cart__amount").html(a(t.fragments["span.header-item--cart__amount"]).html()):a("button.header-item--cart").append(a(t.fragments["span.header-item--cart__amount"])))}})}})})}(jQuery);